import { A as Any, U as Unknown, a as ElementId, V as ViewId } from '../../shared/core.D00YbOhQ.mjs';
import { E as ElementModel, R as RelationshipModel, f as LikeC4Model } from '../../shared/core.BfCKSW-g.mjs';
import 'type-fest';
import '../../shared/core.DB0Ue5Wx.mjs';
import '../../shared/core.C_3y3eqV.mjs';
import '../../shared/core.CAgYpDtM.mjs';
import '../../shared/core.DC5IAaDT.mjs';
import '../../types/fqnRef.mjs';
import '../../shared/core.Dojz4bvg.mjs';
import '../../types/expression-model.mjs';
import '../../shared/core.BPGOjone.mjs';
import '../../shared/core.CywrQs86.mjs';
import '../../shared/core.osFs8tU7.mjs';

type RelationshipsViewData<M extends Any = Unknown> = {
    incomers: ReadonlySet<ElementModel<M>>;
    incoming: ReadonlySet<RelationshipModel<M>>;
    subjects: ReadonlySet<ElementModel<M>>;
    outgoing: ReadonlySet<RelationshipModel<M>>;
    outgoers: ReadonlySet<ElementModel<M>>;
};

declare function computeRelationshipsView<M extends Any>(subjectId: ElementId<M>, likec4model: LikeC4Model<M>, scopeViewId: ViewId<M> | null, scope?: 'global' | 'view'): RelationshipsViewData<M>;

declare function treeFromElements<M extends Any>(elements: Iterable<ElementModel<M>>): {
    sorted: readonly ElementModel<M>[];
    byId: (id: ElementId<M>) => ElementModel<M>;
    root: ReadonlySet<ElementModel<M>>;
    parent: (el: ElementModel<M>) => ElementModel<M> | null;
    children: (el: ElementModel<M>) => ReadonlyArray<ElementModel<M>>;
    /**
     * Flattens the tree structure by removing redundant hierarchy levels.
     * @example
     *   A
     *   └── B
     *       ├── C
     *       │   └── D
     *       │       └── E
     *       └── F
     *           └── G
     * becomes
     *   A
     *   ├── C
     *   │   └── E
     *   └── F
     *       └── G
     */
    flatten: () => Set<ElementModel<M>>;
};

export { type RelationshipsViewData, computeRelationshipsView, treeFromElements };
